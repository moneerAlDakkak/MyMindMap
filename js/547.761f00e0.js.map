{"version":3,"file":"js/547.761f00e0.js","mappings":"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","sources":["webpack://my-mind-map/./src/views/MapPage.vue","webpack://my-mind-map/./src/components/IdeaContainer.vue","webpack://my-mind-map/./src/components/TextBubble.vue","webpack://my-mind-map/./src/components/TextBubble.vue?52ea","webpack://my-mind-map/./src/components/IdeaContainer.vue?4719","webpack://my-mind-map/./src/views/MapPage.vue?12b3"],"sourcesContent":["<template>\r\n  <div class=\"page\" ref=\"page\">\r\n    <idea-container\r\n      :ideas=\"JSON.stringify($store.state.map.body)\"\r\n      :level=\"0\"\r\n      editable=\"true\"\r\n    />\r\n    <div id=\"watermark\" v-if=\"$store.state.map.headers.creator\">\r\n      <img src=\"../assets/logo2.svg\" alt=\"m\" />\r\n      <img src=\"../assets/logo.svg\" alt=\"mmm\" />\r\n      <p>\r\n        Created by {{ $store.state.map.headers.creator }} <br />\r\n        using My Mind Map\r\n      </p>\r\n    </div>\r\n    <transition name=\"fade-bottom\">\r\n      <m-poppup ref=\"pop\" />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ideaContainer from \"../components/IdeaContainer.vue\";\r\nimport { MPoppup } from \"mairs\";\r\nexport default {\r\n  name: \"MapPage\",\r\n  data() {\r\n    return {\r\n      oldMap: undefined,\r\n    };\r\n  },\r\n  components: { ideaContainer, MPoppup },\r\n  async beforeRouteLeave() {\r\n    let currentMap = JSON.stringify(this.$store.state.map);\r\n    if (this.oldMap !== currentMap) {\r\n      console.log(this.$refs.pop);\r\n      let answer = await this.$refs.pop.show({\r\n        title: \"Don't forget to save\",\r\n        message:\r\n          \"You haven't saved changes. Would you like to save before leave ?\",\r\n        confirm: \"Save\",\r\n        cancel: \"Leave\",\r\n      });\r\n      if (answer) {\r\n        this.oldMap = currentMap;\r\n        this.$store.dispatch(\"saveMap\");\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n  beforeMount() {\r\n    let id = location.href.slice(location.href.indexOf(\"=\") + 1);\r\n    let mapsArray = JSON.parse(localStorage.getItem(\"myMaps\"));\r\n    const shownMap = mapsArray.find((map) => map.headers.localId == id);\r\n    this.oldMap = JSON.stringify(shownMap);\r\n    this.$store.commit(\"setMap\", shownMap);\r\n    this.$MTheme.apply(shownMap.headers.theme);\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@use \"mairs/sass/\" as *;\r\n.page {\r\n  &:after {\r\n    content: \"\";\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: linear-gradient(\r\n      300deg,\r\n      changeOpacity(\"accent\", -0.76) 0%,\r\n      changeOpacity(\"accent\", -0.8) 100%\r\n    );\r\n    z-index: -1;\r\n  }\r\n}\r\n#watermark {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 40px;\r\n  margin: 50px 10px;\r\n  font-size: 0.8em;\r\n  img {\r\n    height: 100%;\r\n    &:first-of-type {\r\n      border-right: 2px solid rgba(0, 0, 0, 0.2);\r\n      padding-right: 10px;\r\n    }\r\n  }\r\n  p {\r\n    margin: 0 10px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n.m-grey {\r\n  img {\r\n    filter: invert(100%);\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <text-bubble\r\n    v-if=\"!Array.isArray(JSON.parse(ideas))\"\r\n    :idea=\"JSON.parse(ideas)\"\r\n    :level=\"level\"\r\n    :editable=\"editable\"\r\n  />\r\n  <section v-else :style=\"`--items: ${JSON.parse(ideas).length}`\">\r\n    <idea-container\r\n      v-for=\"idea in JSON.parse(ideas)\"\r\n      :key=\"idea\"\r\n      :ideas=\"JSON.stringify(idea)\"\r\n      :level=\"Number.parseInt(level) + 1\"\r\n      :editable=\"editable\"\r\n    />\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport IdeaContainer from \"./IdeaContainer.vue\";\r\nimport TextBubble from \"./TextBubble\";\r\nexport default {\r\n  name: \"ideaContainer\",\r\n  data() {\r\n    return {\r\n      g: 0,\r\n    };\r\n  },\r\n  components: { IdeaContainer, TextBubble },\r\n  props: [\"ideas\", \"level\", \"editable\"],\r\n  methods: {\r\n    countItems(ideas) {\r\n      let arraysInIdeas = JSON.parse(ideas).filter((o) => Array.isArray(o));\r\n      let bubblesInIdeas = JSON.parse(ideas).filter((o) => !Array.isArray(o));\r\n      if (arraysInIdeas.length !== 0) {\r\n        return arraysInIdeas.length;\r\n      } else return bubblesInIdeas.length;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nsection {\r\n  display: grid;\r\n  grid-template-columns: repeat(calc(var(--items) - 1), 1fr);\r\n  grid-gap: 8px;\r\n  align-items: start;\r\n  .bubble:first-of-type {\r\n    grid-column: span var(--items);\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div\r\n    :id=\"idea.id\"\r\n    :class=\"`bubble level-${level} ${idea.style || ''}`\"\r\n    @contextmenu.prevent=\"$refs.menu.show($event)\"\r\n  >\r\n    <m-p\r\n      ref=\"mdtext\"\r\n      spellcheck=\"false\"\r\n      :contenteditable=\"editable\"\r\n      @blur=\"editBubble(map, id, $event)\"\r\n      @input=\"$store.dispatch('saveMap')\"\r\n      math\r\n      >{{ idea.content }}</m-p\r\n    >\r\n    <transition name=\"fade-top\">\r\n      <m-menu ref=\"menu\">\r\n        <m-menu-item\r\n          @click=\"addSubBubble(map, idea.id)\"\r\n          icon-start=\"fas fa-plus\"\r\n        >\r\n          Add sub-bubble\r\n        </m-menu-item>\r\n        <m-menu-item\r\n          v-if=\"idea.id == 1\"\r\n          type=\"danger\"\r\n          icon-start=\"fas fa-trash\"\r\n          @click=\"$store.dispatch('deleteMap')\"\r\n        >\r\n          Delete Map\r\n        </m-menu-item>\r\n        <m-menu-item\r\n          v-if=\"idea.id != 1\"\r\n          type=\"danger\"\r\n          icon-start=\"fas fa-trash\"\r\n          @click=\"deleteBubble(map, idea.id)\"\r\n        >\r\n          Delete\r\n        </m-menu-item>\r\n      </m-menu>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MP, MMenu, MMenuItem } from \"mairs\";\r\nexport default {\r\n  name: \"TextBubble\",\r\n  components: { MP, MMenu, MMenuItem },\r\n  props: [\"idea\", \"level\", \"editable\"],\r\n  data() {\r\n    return {\r\n      map: this.$store.state.map.body,\r\n    };\r\n  },\r\n  methods: {\r\n    // Bubbles methods :\r\n    addSubBubble(map, id) {\r\n      this.$store.commit(\"increaseID\", \"bubble\");\r\n      if (map[0].id == id) {\r\n        map.push({ content: \"New Cell\", id: this.$store.state.BUBBLE_ID });\r\n        return;\r\n      }\r\n      map.forEach((o) => {\r\n        if (o.id === this.idea.id) {\r\n          map.splice(\r\n            map.findIndex((c) => c.id === id),\r\n            1,\r\n            [o, { content: \"New Cell\", id: this.$store.state.BUBBLE_ID }]\r\n          );\r\n        } else if (Array.isArray(o)) {\r\n          this.addSubBubble(o, id);\r\n        }\r\n      });\r\n    },\r\n    editBubble(map, id, e) {\r\n      map.forEach((o) => {\r\n        if (o.id == this.idea.id) {\r\n          o.content = this.$refs.mdtext.getRawContent();\r\n        } else if (Array.isArray(o)) {\r\n          this.editBubble(o, id, e);\r\n        }\r\n      });\r\n    },\r\n    deleteBubble(map, id) {\r\n      if (id == 1) return;\r\n      map.forEach((o) => {\r\n        if (map[0].id === id) {\r\n          map.splice(0, map.length);\r\n          this.$store.commit(\"clearEmpty\");\r\n        } else if (map.some((o) => o.id === id)) {\r\n          map.splice(\r\n            map.findIndex((r) => r.id === id),\r\n            1\r\n          );\r\n        } else if (Array.isArray(o)) {\r\n          this.deleteBubble(o, id);\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@use \"mairs/sass\" as *;\r\n.bubble {\r\n  position: relative;\r\n  min-width: fit-content;\r\n  margin: 10px 0;\r\n  border-radius: 40px;\r\n  display: inline-block;\r\n  color: $color_onAccent;\r\n  text-align: center;\r\n  box-shadow: 0px 2px 4px 1px rgba(0, 0, 0, 0.2);\r\n  $i: 0;\r\n  @while ($i < 20) {\r\n    &.level-#{$i} {\r\n      background-color: m-darker(\"accent\", calc($i * 4%));\r\n    }\r\n    $i: $i + 1;\r\n  }\r\n  p {\r\n    margin: 0;\r\n    outline: none;\r\n    white-space: pre;\r\n    background: none;\r\n    padding: 14px 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./TextBubble.vue?vue&type=template&id=729ee7bc&scoped=true\"\nimport script from \"./TextBubble.vue?vue&type=script&lang=js\"\nexport * from \"./TextBubble.vue?vue&type=script&lang=js\"\n\nimport \"./TextBubble.vue?vue&type=style&index=0&id=729ee7bc&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Moneer AlDakkak\\\\Desktop\\\\my-mind-map\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-729ee7bc\"]])\n\nexport default __exports__","import { render } from \"./IdeaContainer.vue?vue&type=template&id=4edbd8ef&scoped=true\"\nimport script from \"./IdeaContainer.vue?vue&type=script&lang=js\"\nexport * from \"./IdeaContainer.vue?vue&type=script&lang=js\"\n\nimport \"./IdeaContainer.vue?vue&type=style&index=0&id=4edbd8ef&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Moneer AlDakkak\\\\Desktop\\\\my-mind-map\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4edbd8ef\"]])\n\nexport default __exports__","import { render } from \"./MapPage.vue?vue&type=template&id=6c52822e&scoped=true\"\nimport script from \"./MapPage.vue?vue&type=script&lang=js\"\nexport * from \"./MapPage.vue?vue&type=script&lang=js\"\n\nimport \"./MapPage.vue?vue&type=style&index=0&id=6c52822e&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\Moneer AlDakkak\\\\Desktop\\\\my-mind-map\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c52822e\"]])\n\nexport default __exports__"],"names":["class","ref","id","_createElementVNode","src","_imports_0","alt","_imports_1","_createElementBlock","_createVNode","_component_idea_container","ideas","JSON","stringify","_ctx","state","map","body","level","editable","headers","creator","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_Transition","name","_component_m_poppup","Array","isArray","parse","$props","style","length","_Fragment","_renderList","idea","_createBlock","key","Number","parseInt","_component_text_bubble","onContextmenu","menu","show","$event","_component_m_p","spellcheck","contenteditable","onBlur","$options","$data","onInput","dispatch","math","content","_component_m_menu","_component_m_menu_item","onClick","type","components","MP","MMenu","MMenuItem","props","data","this","$store","methods","addSubBubble","commit","forEach","o","splice","findIndex","c","BUBBLE_ID","push","editBubble","e","$refs","mdtext","getRawContent","deleteBubble","some","r","__exports__","g","IdeaContainer","TextBubble","countItems","arraysInIdeas","filter","bubblesInIdeas","oldMap","undefined","ideaContainer","MPoppup","async","currentMap","console","log","pop","answer","title","message","confirm","cancel","beforeMount","location","href","slice","indexOf","mapsArray","localStorage","getItem","shownMap","find","localId","$MTheme","apply","theme","render"],"sourceRoot":""}